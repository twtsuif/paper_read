# StreamRF



## 摘要

动态场景 流辐射场 显式网格

增量式学习范式 训练每帧模型的差异 补充基本模型对当前帧的适应

tunning strategy with narrow bands 高效训练 在线处理 10fps

基于模型差异的压缩

引入一种有效策略进一步加速每一帧模型优化

15s每帧的训练速度 比sota的隐式模型快1000倍 120ms推理时间



## 简介

多视图

VR非常有潜力

传统技术：通过多视图立体，评估表面、多球图像、深度

但是随意的几何和复杂的外观对传统技术提出挑战

NeRF直接加入时间步实现跨帧，开销56GPU天300帧



第一帧体素网格完整训练 后续online tuning

narrow bands还与压缩相关

学习polit模型来指导全尺寸的优化



## 问题表述Problem Formulation

JaxNeRF虽然并行化优化，10多个小时训练，需要20s渲染800*800

建模动态直接f(x,d,t) -> (c,σ)

N3DV凭借先进的设计提高训练速度



## 动态场景流式辐射场

前向场景视频：时不变成分+时变成分

首先在给定第一帧的情况下完全训练基本网格，存储颜色(球谐)+不透明度

第i帧与i-1帧的差异![image-20230831084957980](https://cdn.jsdelivr.net/gh/twtsuif/picture/twtsuif2023-08-31/75720e29ec3a7f947b76e52431b29c83--1454--image-20230831084957980.png)

推理阶段第i帧![image-20230831085029169](https://cdn.jsdelivr.net/gh/twtsuif/picture/twtsuif2023-08-31/308fe840a80bd13123fa8444e246dbc0--9e6a--image-20230831085029169.png)

### Tuning with  Narrow Bands

物体的运动可能会导致 体素占据的空间变为空，或者原来空的空间出现体素

直接调整稀疏网格，只有非空的体素可以被改变或剪枝以单向的方式，而不能取添加新体素



我们基于在i-1帧表明非空体素的占用网格$M^{i-1}$，检索并激活第i帧的窄带，即网格Ri感兴趣的部分

![image-20230831090515632](https://cdn.jsdelivr.net/gh/twtsuif/picture/twtsuif2023-08-31/3643f539fa1b121c771da3bda485f7a0--b0ae--image-20230831090515632.png)

Fdi和Fer对应膨胀和腐蚀操作，pd和pe表示相应的半径参数

运算 对掩码进行逐元素异或运算，提取与腐蚀区域相比的扩张区域的附加区域

窄带实际上代表场景表面周围的薄区域，两个目的

- 落入带中的每个空体素，恢复到网格中，并用零值初始化不透明度和颜色特征
- 第i帧训练阶段，仅调整窄带内的体素

还修剪掉空体素，以获得调整后带有占用掩模 Mi 的紧凑网格 Vi



先验：移动物体引起的运动通常会在相邻帧之间的相邻区域内显示出微小的变化和局部连续性

该假设已成功应用于广泛的视频处理 [14] 和视频理解任务 [15, 16]，例如用于跟踪的传统均值平移方法 [17]。



### 基于差异的压缩

只需存储差异δi

通过相邻帧i-1与i之间的占用掩码有效找出变化区域

![image-20230831092324212](https://cdn.jsdelivr.net/gh/twtsuif/picture/twtsuif2023-08-31/9c0b4ffeb66b67490c03be2d3ca79732--5d81--image-20230831092324212.png)

分别表示添加体素、擦除体素和剩余体素的掩码，体素处的特征可能会改变

γ定义了模型差异上沿颜色特征轴获取L1范数的函数，ε表示阈值

每帧平均1015MB到5.7MB



## Pilot模型指导的高校训练

受课程学习的启发

下采样获得小尺寸pilot模型	![image-20230831094415494](https://cdn.jsdelivr.net/gh/twtsuif/picture/twtsuif2023-08-31/6971a91daa58bd8777b5201e96745989--d13d--image-20230831094415494.png)

S设置为1/2时，模型容量大约是全网格1/8

pilot模型的差异 ![image-20230831094819259](https://cdn.jsdelivr.net/gh/twtsuif/picture/twtsuif2023-08-31/9c7f2752aa6d99796753a42f92bfd636--de8e--image-20230831094819259.png)



引导掩模用于在调整全尺寸模型时规范梯度更新。添加和删除的体素的值将被填充回全尺寸网格。在第 i 帧进行训练时，掩模外部的所有体素都被冻结而没有优化。

该策略的设计源于这样的见解：小尺寸的训练收敛得更快，并且引导模型的诱导差异表明了需要修改的体素。使用该策略可以防止对全尺寸模型进行不必要的修改，并避免在下采样-上采样过程中丢失高频细节。我们观察到，与在相同训练时间下直接在全尺寸网格上进行训练相比，使用这种策略有助于追求更高保真度的模型。定性结果（图4）表明，直接在全尺寸网格上训练的模型在沿时间步长渲染时可能会遇到闪烁问题，即当训练周期较短时，稳定背景区域可能会出现闪烁噪声。这个问题可以通过延长训练计划和较小的学习率来解决。而使用试点模型指导进行训练可以有效防止闪烁伪影的发生，从而为流范例提供更高效、更稳定的优化。